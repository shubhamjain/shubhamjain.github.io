
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Using Git Format-patch to Introduce Temporary Changes - Coffee Coder</title>
  <meta name="author" content="Shubham Jain">

  
  <meta name="description" content="Lately, on independence day we needed to introduce a small logo change on our website to acknowledge it. The change wasn&rsquo;t meant to last for &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://coffeecoder.net/blog/using-git-format-patch-to-introduce-temporary-changes">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Coffee Coder" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-40678340-2']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  
  	<img src="/images/logo.png" />
   
  <h1><a href="/">Coffee Coder</a></h1>
  
    <h2>Shubham Jain's Weblog</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:coffeecoder.net" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/about/">About</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Using Git Format-patch to Introduce Temporary Changes</h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-08-18T21:26:32+05:30" pubdate data-updated="true">Aug 18<span>th</span>, 2014</time>
        
           | <a href="#disqus_thread"
             data-disqus-identifier="http://coffeecoder.net">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p>Lately, on independence day we needed to introduce a small logo change on our website to acknowledge it. The change wasn&rsquo;t meant to last for more than a few days and hence, the problem of introducing a temporary change which shouldn&rsquo;t be a part of the history arose. Out of ignorance, we went through the path of making a commit and later reverting it with <code>git-revert</code>. Recently I found about excellent patching system of git which makes a impressive solution for the problem.</p>

<h2>Patching </h2>

<p>It must be noted that patching used in git isn&rsquo;t unique but derives itself from an old <code>patch</code> program written by Larry Wall in 1985. What <code>patch</code> program does is pretty basic. It takes a diff file as its input and applies those changes to files. Because of simplicity of patch files as diff text files, it makes them easier to be sent, and applied on projects. Perhaps, before the advent of github, they were the old man&rsquo;s pull request. Another great thing about patches is that they can painlessly be reversed.</p>

<p>Git&rsquo;s <code>format-patch</code> command allows you to generate an email formatted patch file. Depending upon your requirements, you can have multiple patch files for each commit, or a single one multiple commits. In the end you will have your patch file that can be applied and reversed.</p>

<p><strong>Note</strong>: Although, git generated patch files are nearly compatible to be used with Unix&rsquo;s patch program, git supports binary diffs which is unusable with <code>patch</code>.</p>

<h2>Temporary changes using format-patch</h2>

<p>To introduce a temporary change, first create a new branch, say <code>abc</code> and commit your local changes to it. After you have finished, you can use <code>git format-patch STARTING-COMMIT --stdout &gt; shiny-new.patch</code> to create a single patch for multiple commits since <code>STARTING-COMMIT</code>. After saving the patch, you can delete the branch.</p>

<p>The saves patch can now be applied directly on production server with either <code>patch -p1 &lt; shiny-new.patch</code>, if patch doesn&rsquo;t have any binary diffs or with <code>git apply shiny-new.patch</code>.</p>

<p>To reverse this patch <code>patch -p1 -R &lt; shiny-new.patch</code> or <code>git reset HEAD</code> can be used respectively.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Shubham Jain</span></span>

      








  


<time datetime="2014-08-18T21:26:32+05:30" pubdate data-updated="true">Aug 18<span>th</span>, 2014</time>
      


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://coffeecoder.net/blog/using-git-format-patch-to-introduce-temporary-changes/" data-via="thecoffeecoder" data-counturl="http://coffeecoder.net/blog/using-git-format-patch-to-introduce-temporary-changes/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/building-a-whistle-detector/" title="Previous Post: Building a whistle detector using WebAudio API">&laquo; Building a whistle detector using WebAudio API</a>
      
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/using-git-format-patch-to-introduce-temporary-changes/">Using Git Format-patch to Introduce Temporary Changes</a>
      </li>
    
      <li class="post">
        <a href="/blog/building-a-whistle-detector/">Building a Whistle Detector Using WebAudio API</a>
      </li>
    
      <li class="post">
        <a href="/blog/why-desktop-apps-still-make-sense/">Why Desktop Apps Still Make Sense</a>
      </li>
    
      <li class="post">
        <a href="/blog/stop-using-captchas-that-can-be-broken-with-two-lines-of-code/">Stop Using Captchas That Can Be Broken With Two Lines of Code</a>
      </li>
    
      <li class="post">
        <a href="/blog/making-earphone-presses-useful-with-pyaudio-and-vlc-http-api/">Making Earphone Presses Useful With PyAudio and VLC HTTP API</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/shubhamjain">@shubhamjain</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'shubhamjain',
            count: 3,
            skip_forks: true,
            target: '#gh_repos',
            exclude: ['shubhamjain.github.io', 'stopwatch.js']
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Shubham Jain -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'thecoffeecoder';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://coffeecoder.net/blog/using-git-format-patch-to-introduce-temporary-changes/';
        var disqus_url = 'http://coffeecoder.net/blog/using-git-format-patch-to-introduce-temporary-changes/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
